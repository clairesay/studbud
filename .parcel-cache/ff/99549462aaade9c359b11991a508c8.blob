!function(){const e=document.getElementById("new-task");document.querySelectorAll(".card");const t=document.getElementById("create-task-form");function a(){var e=document.querySelectorAll(".column-name"),a=t.querySelector("select[name=status]");a.innerHTML="",e.forEach((function(e){var t=document.createElement("option");t.textContent=e.value,t.value=e.value,a.appendChild(t)}))}a();var n,l=!1;function c(e){console.log("task-form-opened"),"update"==e?(t.querySelector("h1").textContent="Edit an existing task",t.classList.add("update")):(t.querySelector("h1").textContent="Create a new task",t.classList.remove("update")),0==l?(t.classList.add("active"),l=!0):1==l&&(t.classList.remove("active"),t.reset(),l=!1)}function d(){console.log("reupdate");var e=document.querySelectorAll(".edit");console.log("there are "+e.length+" cards left"),e.forEach((function(e,t){e.removeEventListener("click",s),n=e,e.addEventListener("click",s)}))}function s(){console.log("click"),function(e){console.log("autofill");var a=e.parentElement.id;a=a.replace("t-","");for(let d=0;d<r.length;d++){var n=r[d];if(n.id==a){var l=t.querySelectorAll("form input");l[0].value=n.name,l[1].value=n.description,l[2].value=n.subject,t.querySelector("select[name=status]").value=e.parentElement.parentElement.parentElement.querySelector("div.title input.column-name").value,"Low"==n.priorityRating?l[3].checked=!0:"Mid"==n.priorityRating?l[4].checked=!0:"High"==n.priorityRating&&(l[5].checked=!0),l[6].value=n.estimatedTimeHr,l[7].value=n.estimatedTimeMin,l[8].value=n.dueDate,u.value=a,c("update")}}}(n)}e.addEventListener("click",c);class i{constructor(e,t,a,n,l,c,d,s,i,r){this.id=e,this.name=t,this.description=a,this.subject=n,this.status=l,this.priorityRating=c,this.estimatedTimeHr=d,this.estimatedTimeMin=s,this.dueDate=i,this.saveStatus=r}addTask(){return r.push(this),this.id}updateTask(e){r.filter((function(t){return t.id==e}))}createCard(e){var t=document.createElement("article"),a=document.createElement("span"),n=document.createElement("h3"),l=document.createElement("p"),c=document.createElement("div"),d=document.createElement("h4"),s=document.createElement("span"),i=document.createElement("a");i.classList.add("edit"),i.innerHTML='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <path d="M0 12.6672V16H3.33287L13.1626 6.17028L9.82975 2.83741L0 12.6672ZM15.74 3.59286C16.0867 3.24625 16.0867 2.68632 15.74 2.33971L13.6603 0.259994C13.3137 -0.0866241 12.7538 -0.0866241 12.4072 0.259994L10.7807 1.88644L14.1136 5.21931L15.74 3.59286Z" fill="#909090"/>\n          </svg>',t.classList.add("card"),t.setAttribute("id","t-"+e),a.classList.add("tag"),a.classList.add("subject"),c.classList.add("time-details"),s.classList.add("time"),s.classList.add("tag"),n.textContent=this.name,l.textContent=this.description,a.textContent=this.subject,d.textContent=this.dueDate,s.textContent=this.estimatedTimeHr+this.estimatedTimeMin,c.appendChild(d),c.appendChild(s),t.appendChild(a),t.appendChild(n),t.appendChild(l),t.appendChild(i),t.appendChild(c);var r=document.querySelectorAll(".column-name"),o=document.querySelectorAll(".cards"),u=this.status;r.forEach((function(e,a){e.value==u&&o[a].appendChild(t)}))}}var r=[],o=document.getElementById("create-task-submit"),u=document.getElementById("edit-task-save"),m=document.getElementById("edit-task-cancel");document.getElementById("edit-task-delete").addEventListener("click",(function(e){var a=parseInt(u.value);taskID=a;for(let e=0;e<r.length;e++){var n=r[e];if(n.id==a)r.splice(r.indexOf(n),1),document.getElementById("t-"+a).remove(),u.value=""}l=!1,t.classList.remove("active"),t.reset(),p(),d()})),m.addEventListener("click",(function(e){e.preventDefault(),l=!1,t.classList.remove("active"),t.reset(),d()})),u.addEventListener("click",(function(e){var a,n,c,s,o,m,v,h,f,E;e.preventDefault(),a=t.querySelectorAll("form input");var L=parseInt(u.value);taskID=L;for(let e=0;e<r.length;e++){var g=r[e];if(g.id==L)r.splice(r.indexOf(g),1),document.getElementById("t-"+L).remove(),u.value=""}c=a[0].value,s=a[1].value,o=a[2].value,m=t.querySelector("select[name=status]").value,1==a[3].checked?v=a[3].value:1==a[4].checked?v=a[4].value:1==a[5].checked&&(v=a[5].value),h=a[6].value,f=a[7].value,E=a[8].value,(n=new i(taskID,c,s,o,m,v,h,f,E,undefined)).createCard(n.addTask()),l=!1,t.classList.remove("active"),t.reset(),p(),d()})),o.addEventListener("click",(function(e){var a,n,c,s,o,u,m,v,h,f;e.preventDefault(),a=t.querySelectorAll("form input"),taskID=r.length,c=a[0].value,s=a[1].value,o=a[2].value,u=t.querySelector("select[name=status]").value,1==a[3].checked?m=a[3].value:1==a[4].checked?m=a[4].value:1==a[5].checked&&(m=a[5].value),v=a[6].value,h=a[7].value,f=a[8].value,(n=new i(taskID,c,s,o,u,m,v,h,f,"saved")).createCard(n.addTask()),l=!1,t.classList.remove("active"),t.reset(),p(),d()}));const v=document.getElementById("add-column-form");var h=!1;document.getElementById("new-column").addEventListener("click",(function(){0==h?(v.classList.add("active"),h=!0):1==h&&(v.classList.remove("active"),h=!1)}));function p(){var e=document.querySelectorAll(".total"),t=document.querySelectorAll(".cards");e.forEach((function(a,n){counta=0;for(let e=0;e<t[n].querySelectorAll(".card").length;e++)1==t[n].querySelectorAll(".card")[e].classList.length&&(counta+=1);e[n].textContent=counta}))}document.getElementById("add-column-submit").addEventListener("click",(function(e){e.preventDefault();let t=document.createElement("div");t.classList.add("column");let n=document.createElement("div");n.classList.add("title");let l=document.createElement("input");l.classList.add("column-name");let c=v.querySelectorAll("input")[0];l.value=c.value;let d=document.createElement("h3");d.classList.add("total"),d.textContent=0;let s=document.createElement("div");s.classList.add("cards"),n.appendChild(l),n.appendChild(d),t.appendChild(n),t.appendChild(s);let i=document.getElementById("tasks");i.appendChild(t),i.scrollTo({top:0,left:i.clientWidth,behavior:"smooth"}),a(),h=!1,v.reset(),v.classList.remove("active");var r=document.querySelectorAll(".cards");r=r[r.length-1],new Sortable(r,{group:"nested",animation:200,swapThreshold:.65,ghostClass:"ghost-card",chosenClass:"chosen-card",forceFallback:!0,onEnd:function(e){p()}})}))}();
//# sourceMappingURL=index.HASH_REF_be4b3a63af3f7e20c4ee8adb101fcb79.js.map
