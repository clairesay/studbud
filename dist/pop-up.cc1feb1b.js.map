{"version":3,"sources":["js/pop-up.js"],"names":["timePopUp","document","getElementById","peekTime","querySelector","dropdown","dropdownOption","musicPopUp","nav","currentControls","currentContainer","setAttribute","collapseButtons","querySelectorAll","forEach","button","index","addEventListener","event","stopPropagation","popUpState","getAttribute","popUp","mode","responsivePopUp","peek","deviceSize","style","display","popUpPositioning","bool","left","right","color","appendChild"],"mappings":"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","file":"pop-up.cc1feb1b.js","sourceRoot":"..\\public","sourcesContent":["// POPUP TAB ACTIVITY\r\nconst timePopUp = document.getElementById('time')\r\nvar peekTime = document.querySelector('#time nav h1');\r\nvar dropdown = document.querySelector('#dropdown')\r\nvar dropdownOption = dropdown.querySelector('#time-selector h3')\r\n\r\nconst musicPopUp = document.getElementById('music')\r\nvar nav = musicPopUp.querySelector('nav')\r\nvar currentControls = musicPopUp.querySelector('#current-controls')\r\nvar currentContainer = musicPopUp.querySelector('#current')\r\n\r\ntimePopUp.setAttribute('state', 'standby')\r\nmusicPopUp.setAttribute('state', 'standby')\r\n\r\n// collapse button for each of the pop-up windows\r\nvar collapseButtons = document.querySelectorAll('.pop-up nav button.collapse')\r\ncollapseButtons.forEach(function (button, index) {\r\n    // on click, we open or close the corresponding popup window\r\n    button.addEventListener('click', function(event) {\r\n        event.stopPropagation()\r\n        popUpState(index)\r\n    })\r\n})\r\n\r\n// if we click on the pop-up window itself, and its pcurrent state is either peek or standby, open it to active mode.\r\ntimePopUp.addEventListener('click', function() {\r\n    if (timePopUp.getAttribute('state') == 'peek' || timePopUp.getAttribute('state') == 'standby') {\r\n        popUpState(0)\r\n    }\r\n})\r\nmusicPopUp.addEventListener('click', function() {\r\n    if (musicPopUp.getAttribute('state') == 'peek' || musicPopUp.getAttribute('state') == 'standby') {\r\n        popUpState(1)\r\n    }\r\n})\r\n\r\n// alternate states of the pop-up tab\r\nfunction popUpState(index) {\r\n    var popUp, mode;\r\n    if (index == 0) {\r\n        popUp = timePopUp\r\n        mode = 'time'\r\n    } else if (index == 1) {\r\n        popUp = musicPopUp\r\n        mode = 'music'\r\n    }\r\n\r\n    // setting responsive alternates in case device size is smaller\r\n    responsivePopUp(popUp)\r\n\r\n    // if/else tree to determine the status of the current pop-up being activated\r\n    // active --> the pop-up tab is open\r\n    // peek --> users can see a little bit of the timer/music player, but not the whole thing\r\n    // standby --> the pop-up is reduced to an icon\r\n    if (popUp.getAttribute('state') == 'standby') {\r\n        popUp.setAttribute('state', 'active')\r\n        // checks for peek modes and alters styles in turn.\r\n        peek(false, mode)\r\n    } else if (popUp.getAttribute('state') == 'peek') {\r\n        popUp.setAttribute('state', 'active')\r\n        peek(false, mode)\r\n    } else if (popUp.getAttribute('state') == 'active' && popUp.getAttribute('static') == 'true') {\r\n        popUp.setAttribute('state', 'standby')\r\n        peek(false, mode)\r\n    } else if (popUp.getAttribute('state') == 'active') {\r\n        popUp.setAttribute('state', 'peek')\r\n        peek(true, mode)\r\n        if (popUp == timePopUp) {\r\n            // hide the dropdown if it the user is in peek mode, and the selected timer is a pomodoro timer\r\n            // or if the device is a mobile (in that case there's no space for it)\r\n            if (dropdownOption.getAttribute('id') == 'pomodoro-select' || deviceSize == 'mobile') {\r\n                dropdown.style.display = 'none'\r\n            // otherwise, in stopwatch mode and if the device is bigger than mobile, still show the dropdown\r\n            } else {\r\n                dropdown.style.display = 'flex'\r\n            }\r\n        }\r\n    }\r\n    // positioning the time pop-up from the right hand side\r\n    popUpPositioning()\r\n}\r\n\r\n// on mobile/smaller device sizes, the other popUp is forced to be in 'standby' mode to ensure there is space on the screen\r\nfunction responsivePopUp(popUp) {\r\n    if (deviceSize != 'desktop') {\r\n        if (popUp == timePopUp) {\r\n            musicPopUp.setAttribute('state', 'standby')\r\n        } else {\r\n            timePopUp.setAttribute('state', 'standby')\r\n        }\r\n    }\r\n}\r\n\r\n// make the appropriate alterations to the pop-up windows\r\nfunction peek(bool, mode) {\r\n    if (mode == 'time') {\r\n        dropdown.style.display = 'flex'\r\n        if (bool == true) {\r\n            peekTime.style.display = 'flex'\r\n            dropdown.style.left = 'auto'\r\n            dropdown.style.right = '0px'\r\n            dropdown.querySelector('h3').style.color = '#909090'\r\n        } else {\r\n            peekTime.style.display = 'none'\r\n            dropdown.style.left = '60px'\r\n            dropdown.style.right = 'auto'\r\n            dropdown.querySelector('h3').style.color = '#303030'\r\n        }\r\n    } else if (mode == 'music') {\r\n        if (bool == true) {\r\n            nav.appendChild(currentControls)\r\n        } else {\r\n            currentContainer.appendChild(currentControls)\r\n        }\r\n    }\r\n}\r\n\r\n// this determines the positioning of the time pop-up \r\nfunction popUpPositioning() {\r\n    // if the music pop-up is on standby, calculate how far from the right the time pop-up will be \r\n    if (musicPopUp.getAttribute('state') != 'standby') {\r\n        if (deviceSize == 'mobile') {\r\n            timePopUp.style.right = '254px';\r\n        } else {\r\n            timePopUp.style.right = '354px';\r\n        }\r\n    // if the time pop-up is active and on mobile, it should open up to full device width and thus position right 0\r\n    } else if (timePopUp.getAttribute('state') == 'active' && deviceSize == 'mobile') {\r\n        timePopUp.style.right = '0';\r\n    // otherwise, we go with default position\r\n    } else {\r\n        timePopUp.style.right = '110px';\r\n    }\r\n}"]}