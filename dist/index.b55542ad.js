!function(){const e=document.getElementById("new-task");document.querySelectorAll(".card");const t=document.getElementById("create-task-form");function a(){var e=document.querySelectorAll(".column-name"),a=t.querySelector("select[name=status]");a.innerHTML="",e.forEach((function(e){var t=document.createElement("option");t.textContent=e.value,t.value=e.value,a.appendChild(t)}))}a();const n=document.getElementById("modal-background");var l=!1;function s(e){console.log("task-form-opened"),"update"==e?(t.querySelector("h1").textContent="Edit an existing task",t.classList.add("update")):(t.querySelector("h1").textContent="Create a new task",t.classList.remove("update")),0==l?(t.classList.add("active"),l=!0,n.style.display="flex"):1==l&&(t.classList.remove("active"),t.reset(),l=!1,n.style.display="none")}function c(){console.log("reupdate");var e=document.querySelectorAll(".edit");console.log("there are "+e.length+" editbuttons left"),e.forEach((function(e,a){"true"!==e.getAttribute("listener")&&(e.addEventListener("click",(function(){!function(e){console.log("autofill");var a=e.parentElement.id;a=a.replace("t-","");for(let c=0;c<i.length;c++){var n=i[c];if(n.id==a){var l=t.querySelectorAll("form input");l[0].value=n.name,l[1].value=n.description,l[2].value=n.subject,t.querySelector("select[name=status]").value=e.parentElement.parentElement.parentElement.querySelector("div.title input.column-name").value,"Low"==n.priorityRating?l[3].checked=!0:"Mid"==n.priorityRating?l[4].checked=!0:"High"==n.priorityRating&&(l[5].checked=!0),l[6].value=n.estimatedTimeHr,l[7].value=n.estimatedTimeMin,l[8].value=n.dueDate,o.value=n.id,s("update")}}}(e)})),e.setAttribute("listener","true"))}))}e.addEventListener("click",s);class d{constructor(e,t,a,n,l,s,c,d,i,r){this.id=e,this.name=t,this.description=a,this.subject=n,this.status=l,this.priorityRating=s,this.estimatedTimeHr=c,this.estimatedTimeMin=d,this.dueDate=i,this.saveStatus=r}addTask(){return i.push(this),this.id}updateTask(e){i.filter((function(t){return t.id==e}))}createCard(e){var t=document.createElement("article"),a=document.createElement("span"),n=document.createElement("h3"),l=document.createElement("p"),s=document.createElement("div"),c=document.createElement("h4"),d=document.createElement("span"),i=document.createElement("a");i.classList.add("edit"),i.innerHTML='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <path d="M0 12.6672V16H3.33287L13.1626 6.17028L9.82975 2.83741L0 12.6672ZM15.74 3.59286C16.0867 3.24625 16.0867 2.68632 15.74 2.33971L13.6603 0.259994C13.3137 -0.0866241 12.7538 -0.0866241 12.4072 0.259994L10.7807 1.88644L14.1136 5.21931L15.74 3.59286Z" fill="#909090"/>\n          </svg>',t.classList.add("card"),t.setAttribute("id","t-"+e),a.classList.add("tag"),a.classList.add("subject"),s.classList.add("time-details"),d.classList.add("time"),d.classList.add("tag"),n.textContent=this.name,l.textContent=this.description,a.textContent=this.subject,c.textContent=this.dueDate,d.textContent=this.estimatedTimeHr+this.estimatedTimeMin,s.appendChild(c),s.appendChild(d),t.appendChild(a),t.appendChild(n),t.appendChild(l),t.appendChild(i),t.appendChild(s);var r=document.querySelectorAll(".column-name"),o=document.querySelectorAll(".cards"),u=this.status;r.forEach((function(e,a){e.value==u&&o[a].appendChild(t)}))}}var i=[],r=document.getElementById("create-task-submit"),o=document.getElementById("edit-task-save"),u=document.getElementById("edit-task-cancel");document.getElementById("edit-task-delete").addEventListener("click",(function(e){var a=parseInt(o.value);taskID=a;for(let e=0;e<i.length;e++){var s=i[e];if(s.id==a)i.splice(i.indexOf(s),1),document.getElementById("t-"+a).remove(),o.value=""}l=!1,n.style.display="none",t.classList.remove("active"),t.reset(),p(),c()})),u.addEventListener("click",(function(e){e.preventDefault(),l=!1,n.style.display="none",t.classList.remove("active"),t.reset(),o.value="",c()})),o.addEventListener("click",(function(e){var a,s,r,u,m,v,h,y,f,E;e.preventDefault(),a=t.querySelectorAll("form input");var g=parseInt(o.value);taskID=g;for(let e=0;e<i.length;e++){var L=i[e];if(L.id==g)i.splice(i.indexOf(L),1),document.getElementById("t-"+g).remove(),o.value=""}r=a[0].value,u=a[1].value,m=a[2].value,v=t.querySelector("select[name=status]").value,1==a[3].checked?h=a[3].value:1==a[4].checked?h=a[4].value:1==a[5].checked&&(h=a[5].value),y=a[6].value,f=a[7].value,E=a[8].value,(s=new d(taskID,r,u,m,v,h,y,f,E,undefined)).createCard(s.addTask()),l=!1,n.style.display="none",t.classList.remove("active"),t.reset(),p(),o.value="",c()})),r.addEventListener("click",(function(e){var a,s,r,u,m,v,h,y,f,E;e.preventDefault(),a=t.querySelectorAll("form input"),taskID=i.length,r=a[0].value,u=a[1].value,m=a[2].value,v=t.querySelector("select[name=status]").value,1==a[3].checked?h=a[3].value:1==a[4].checked?h=a[4].value:1==a[5].checked&&(h=a[5].value),y=a[6].value,f=a[7].value,E=a[8].value,(s=new d(taskID,r,u,m,v,h,y,f,E,"saved")).createCard(s.addTask()),l=!1,n.style.display="none",t.classList.remove("active"),t.reset(),p(),o.value="",c()}));const m=document.getElementById("add-column-form");var v=!1;document.getElementById("new-column").addEventListener("click",(function(){0==v?(m.classList.add("active"),v=!0,n.style.display="flex"):1==v&&(m.classList.remove("active"),v=!1,n.style.display="none")}));function p(){var e=document.querySelectorAll(".total"),t=document.querySelectorAll(".cards");e.forEach((function(a,n){counta=0;for(let e=0;e<t[n].querySelectorAll(".card").length;e++)1==t[n].querySelectorAll(".card")[e].classList.length&&(counta+=1);e[n].textContent=counta}))}document.getElementById("add-column-submit").addEventListener("click",(function(e){e.preventDefault();let t=document.createElement("div");t.classList.add("column");let l=document.createElement("div");l.classList.add("title");let s=document.createElement("input");s.classList.add("column-name");let c=m.querySelectorAll("input")[0];s.value=c.value;let d=document.createElement("h3");d.classList.add("total"),d.textContent=0;let i=document.createElement("div");i.classList.add("cards"),l.appendChild(s),l.appendChild(d),t.appendChild(l),t.appendChild(i);let r=document.getElementById("tasks");r.appendChild(t),r.scrollTo({top:0,left:r.clientWidth,behavior:"smooth"}),a(),v=!1,n.style.display="none",m.reset(),m.classList.remove("active");var o=document.querySelectorAll(".cards");o=o[o.length-1],new Sortable(o,{group:"nested",animation:200,swapThreshold:.65,ghostClass:"ghost-card",chosenClass:"chosen-card",forceFallback:!0,onEnd:function(e){p()}})}))}();
//# sourceMappingURL=index.b55542ad.js.map
